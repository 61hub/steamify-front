(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(48)},25:function(e,t,a){},27:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=(a(25),a(16)),i=a(15),u=a(12),s=a(13),m=a(17),d=a(14),p=a(18),v=a(2),h=(a(27),a(4)),f=a.n(h),g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).countPriceHour=function(e){var t=e.playtimeForever/60;console.log(t);var a=Number(e.price/t).toFixed(1);return a<=10?"darkGreen":a<=50?"green":a<=100?"yellow":a<=200?"orange":a>=200?"red":void 0},a.state={games:[],value:"",serverStatus:"",gamePriceStatus:""},a.handleInputSubmit=a.handleInputSubmit.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://157.230.56.14:3000/api/v1/games").then(function(t){return t.data?e.setState({games:t.data}):null})}},{key:"handleInputSubmit",value:function(e,t){if(13==e.keyCode)this.saveData(t);else{var a=Object(i.a)(this.state.games),n=a.find(function(e){return e.appId==t}),r=a.findIndex(function(e){return e.appId==t}),c=Object(o.a)({},n);c.price=e.target.value,a[r]=c,this.setState({games:a}),this.setState({value:e.target.value})}}},{key:"saveData",value:function(e){var t=this;this.setState({serverStatus:"loading"}),f.a.patch("http://157.230.56.14:3000/api/v1/games/".concat(e),{price:this.state.value}).then(function(e){return t.setState({serverStatus:"success"})}).catch(function(e){return t.setState({serverStatus:"error"})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"loadingState ".concat(this.state.serverStatus)}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3"},"Game's name"),r.a.createElement("th",{colSpan:"2"},"Game play duration"),r.a.createElement("th",{colSpan:"1"},"Price"))),r.a.createElement("tbody",null,this.state.games.sort(function(e,t){return t.playtimeForever-e.playtimeForever}).map(function(t,a){return r.a.createElement("tr",null,r.a.createElement("td",{className:"gameHourPriceWrapper"},r.a.createElement("div",{className:"gameHourPrice ".concat(e.countPriceHour(t))})),r.a.createElement("td",null,a+1),r.a.createElement("td",null,r.a.createElement("img",{src:t.icon})),r.a.createElement("td",null,t.name),r.a.createElement("td",{colSpan:"2",className:"gameDuration"},t.playtimeForeverReadable),r.a.createElement("td",null,r.a.createElement("input",{className:"priceInput",defaultValue:t.price,type:"text",onBlur:function(){return e.saveData(t.appId)},onKeyUp:function(a){return e.handleInputSubmit(a,t.appId,t.playtimeForever)}})),r.a.createElement("td",null))})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.c85d2c14.chunk.js.map