{"version":3,"sources":["helpers.js","components/GameLogo/GameLogo.js","components/Emoji/Emoji.js","components/GameDetails/GameDetails.js","components/Game/Game.js","components/Stats.js","components/Settings.js","redux/actions/games.js","redux/actions/packs.js","redux/selectors/index.js","App.js","redux/reducers/index.js","redux/reducers/games.js","redux/reducers/packs.js","redux/store.js","index.js","components/GameDetails/GameDetails.module.scss","components/Game/Game.module.scss","components/GameLogo/GameLogo.module.scss"],"names":["countPriceHour","game","dlcPrice","items","dlc","length","forEach","dlcEl","price","type","itemsTotalTime","games","g","playtimeForever","Math","round","playTimeInHours","formatPlaytime","minutes","hrs","floor","mins","toString","concat","GameLogo","_ref","src","react_default","a","createElement","className","styles","logoWrapper","alt","Emoji","rest","Object","objectWithoutProperties","assign","role","aria-label","GameDetails","_ref$data","data","status","totalPrice","name","index","onTitleClick","Fragment","gameInformation","gameName","onClick","gameMinorInfo","classNames","gameHourPrice","el","priceHour","definePriceHourClassName","gameIndex","_","pricePerHour","toFixed","gameDuration","Emoji_Emoji","endless","CustomField","label","placeholder","_ref$helperText","helperText","input","formGroup","labelFor","numericInput","id","onValueChange","onChange","CustomSelect","_ref2","options","htmlSelect","Game","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleOptions","setState","isExpanded","state","addToPack","appId","e","preventDefault","packId","selectRef","current","selectedIndex","value","foundPack","packages","find","axios","patch","toConsumableArray","then","onAddedToPack","_this$props","_len","arguments","Array","_key","apply","renderOptions","statuses","react_final_form_es","onSubmit","_this2","render","_ref3","handleSubmit","initialValue","defaultValue","component","format","parseInt","buttons","minimal","icon","ref","map","pack","key","React","createRef","_this3","_this$props2","isPack","gameWrapper","GameLogo_GameLogo","logo","GameDetails_GameDetails","details","defineProperty","expanded","item","addDlcWrapper","_this3$props","_len2","_key2","onAddDlcFormSubmit","_ref4","reset","Component","Stats","filter","playtimeTwoWeeks","sort","g1","g2","_g","objectSpread","i","components_Game_Game","Settings","isOpen","onClose","serverStatus","onSortChange","sortedBy","sortOrder","onSortOrderChange","addPack","drawer","autoFocus","canEscapeKeyClose","canOutsideClickClose","enforceFocus","hasBackdrop","position","Position","RIGHT","usePortal","size","Drawer","SIZE_SMALL","Classes","DRAWER_BODY","DIALOG_BODY","radioGroup","selectedValue","controls","gamesActionsTypes","packsActionsTypes","getGames","getComposedPacks","createSelector","packs","packData","foundGame","push","random","console","log","getComposedGames","gameData","isNaN","total","getTotalPrice","getTotalItems","countStatuses","countTotalPrice","reduce","sum","countTotalTime","App","isSettingsOpen","isStatsOpen","fetchData","fetchGames","fetchPacks","updateItem","updates","response","gameUpdate","catch","addDlc","appid","dlcName","gameToUpdate","element","packName","packPrice","post","totalPlaytime","story","completed","abandoned","playing","components_Settings","currentTarget","SIZE_LARGE","Stats_Stats","defaultProps","connect","dispatch","get","combineReducers","undefined","action","middlewares","window","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","thunk","store","createStore","reducers","ReactDOM","es","src_App_0","document","getElementById","module","exports","darkGreen","green","orange","red","yellow"],"mappings":"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","file":"static/js/main.d7d9f417.chunk.js","sourcesContent":["const countPriceHour = (game) => {\n  let dlcPrice = 0;\n\n  if(!game.items && game.dlc.length > 0) {\n    game.dlc.forEach((dlcEl) => {\n      dlcPrice = dlcPrice + dlcEl.price;\n    })\n  }\n\n  if (game.type === 'pack') {\n    let itemsTotalTime = 0;\n\n    game.games.forEach(g => itemsTotalTime = itemsTotalTime + g.playtimeForever);\n    if (itemsTotalTime <= 60) {\n      return game.price;\n    } else {\n      return Math.round((game.price / (itemsTotalTime / 60)));\n    }\n  }\n\n  let priceHour;\n  if (game.playtimeForever <= 60) {\n    priceHour = game.price + dlcPrice;\n    return priceHour\n  } else {\n    let playTimeInHours = game.playtimeForever / 60;\n    priceHour = (game.price  + dlcPrice) / playTimeInHours;\n    return priceHour\n  }\n};\n\nconst formatPlaytime = (minutes) => {\n  const hrs = Math.floor(minutes / 60);\n  let mins = minutes % 60;\n  if (mins > 10) {\n    mins.toString().length < 2 ? mins = mins * 10 : void(0);\n  }\n\n  if (!hrs) {\n    return `${mins}m`;\n  }\n\n  if (!mins) {\n    return `${hrs}h`;\n  }\n\n  return `${hrs}h ${mins}m`;\n};\n\nconst getTotalPrice = (game) => {\n  let total = game.price\n  if (game.dlc && game.dlc.length) {\n    game.dlc.forEach(dlc => total = total + dlc.price)\n  }\n\n  return total;\n};\n\nexport const definePriceHourClassName = (el) => {\n  let priceHour = countPriceHour(el);\n  if (priceHour <= 10) {\n    return \"darkGreen\"\n  } else if (priceHour <= 50) {\n    return \"green\"\n  } else if (priceHour <= 100) {\n    return \"yellow\"\n  } else if (priceHour <= 200) {\n    return \"orange\"\n  } else if (priceHour >= 200) {\n    return \"red\"\n  }\n}\n\nexport { countPriceHour, formatPlaytime, getTotalPrice }\n","import React from \"react\"\nimport styles from './GameLogo.module.scss'\n\nexport const GameLogo = ({ src }) => (\n  <div className={styles.logoWrapper}>\n    <img src={src} alt=\"Game logo\" />\n  </div>\n)\n","import React from 'react'\n\nexport const Emoji = ({ type, ...rest }) => <span role=\"img\" aria-label=\"emoji\" {...rest}>{type}</span>\n","import React from 'react'\nimport styles from \"./GameDetails.module.scss\";\nimport { formatPlaytime, definePriceHourClassName } from \"../../helpers\";\nimport classNames from 'classnames'\nimport { Emoji } from \"../Emoji/Emoji\";\nimport * as _ from 'lodash'\n\nexport const GameDetails = ({ data: { status, totalPrice, name, ...data } = {}, index, onTitleClick }) => (\n  <>\n    <div className={styles.gameInformation}>\n      <div className={styles.gameName} onClick={onTitleClick}>\n        {name}\n      </div>\n\n      <div className={styles.gameMinorInfo}>\n        <div className={classNames(styles.gameHourPrice, styles[definePriceHourClassName(data)])} />\n        <div className={styles.gameIndex}>\n          {index + 1}.\n        </div>\n        <div>\n          {totalPrice}P\n        </div>\n\n        {!_.isNil(data.pricePerHour) &&\n          <div className={styles.pricePerHour}>\n            {data.pricePerHour.toFixed(0)}P/hr\n          </div>\n        }\n\n      </div>\n    </div>\n\n    <div className={styles.gameDuration}>\n      <div className={styles.status}>\n        {status === 'completed' && <Emoji type=\"✅\" />}\n        {status === 'endless' && <Emoji type=\"∞\" className={styles.endless} />}\n        {status === 'playing' && <Emoji type=\"🕹\" />}\n        {status === 'abandoned' && <Emoji type=\"☠️\" />}\n        {status === 'story' && <Emoji type=\"📖\" />}\n      </div>\n      {formatPlaytime(data.playtimeForever)}\n    </div>\n  </>\n)\n","import React, {Component} from \"react\"\nimport {formatPlaytime} from \"../../helpers\"\nimport axios from 'axios'\nimport styles from './Game.module.scss'\nimport classNames from 'classnames'\nimport * as _ from 'lodash'\nimport { Field, Form } from \"react-final-form\";\nimport { GameLogo } from \"../GameLogo/GameLogo\";\nimport { GameDetails } from \"../GameDetails/GameDetails\";\nimport { Button, FormGroup, HTMLSelect, NumericInput } from \"@blueprintjs/core\";\n\nconst CustomField = ({ label, placeholder, helperText = '', input, ...rest}) => (\n  <FormGroup\n    helperText={helperText}\n    label={label}\n    labelFor={`field-${label}`}\n  >\n    <NumericInput\n      id={`field-${label}`}\n      placeholder={placeholder || label}\n      onValueChange={input.onChange}\n      {...input}\n      {...rest}\n    />\n  </FormGroup>\n)\n\nconst CustomSelect = ({input, options, ...rest}) => (\n  <FormGroup\n    label=\"Game Status\"\n    labelFor=\"field-status\"\n  >\n    <HTMLSelect options={options} id=\"field-status\" {...input} />\n  </FormGroup>\n)\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n    this.selectRef = React.createRef();\n    this.state = {\n      isExpanded: false,\n    }\n  }\n\n  toggleOptions = () => {\n    this.setState({isExpanded: !this.state.isExpanded})\n  };\n\n  addToPack = (appId, e) => {\n    e.preventDefault();\n    const packId = this.selectRef.current.options[this.selectRef.current.selectedIndex].value;\n    const foundPack = this.props.packages.find((el) => el.packId === packId);\n\n    axios.patch(`http://steamify-api.61hub.com/v1/packs/${packId}`, {items: [...foundPack.items, appId]})\n      .then(() => {\n        this.props.onAddedToPack();\n        this.onChange({status: 'hidden'});\n      })\n  };\n\n  onChange = (...props) => {\n    const { onChange, data } = this.props\n    this.toggleOptions()\n    return onChange(data.appId, ...props)\n  }\n\n  renderOptions = () => {\n    const { data } = this.props;\n    const statuses = ['default', 'playing', 'completed', 'endless', 'abandoned', 'hidden', 'story']\n\n    return (\n      <div className={styles.options}>\n        <Form\n          onSubmit={(...props) => this.onChange(...props)}\n          render={({ handleSubmit }) => (\n            <form onSubmit={handleSubmit}>\n              <Field\n                name=\"price\"\n                initialValue={data.price}\n                defaultValue={data.price}\n                label=\"Price\"\n                component={CustomField}\n                type=\"text\"\n                placeholder=\"Game price\"\n                // TODO format doesn't work\n                format={value => parseInt(value, 10)}\n              />\n\n              <Field\n                name=\"status\"\n                component={CustomSelect}\n                initialValue={data.status}\n                options={statuses}\n              />\n\n              <Button minimal type=\"submit\" icon=\"tick\">Сохранить</Button>\n            </form>\n          )}\n        />\n\n      {data.type !== 'pack' &&\n        <form onSubmit={e => this.addToPack(data.appId, e)}>\n          <select ref={this.selectRef}>\n            <option value=\"\" />\n            {this.props.packages && this.props.packages.map(pack => (\n              <option key={pack.packId} value={pack.packId}>{pack.name}</option>\n            ))}\n          </select>\n          <button>Add to Pack</button>\n        </form>\n      }\n    </div>\n    )\n  };\n\n  render() {\n    const { data, index } = this.props;\n    const isPack = data.type === 'pack';\n    const items = isPack ? data.games : data.dlc;\n\n    return (\n      <div>\n        <div className={styles.gameWrapper}>\n          <GameLogo src={data.logo} />\n          <GameDetails data={data} index={index} onTitleClick={this.toggleOptions} />\n        </div>\n\n        <div className={classNames(styles.details, { [styles.expanded]: this.state.isExpanded })}>\n          { this.renderOptions() }\n\n          <div className={styles.items}>\n            {!_.isEmpty(items) &&\n              <>\n                <h3>{isPack ? \"Items in pack:\" : \"DLCs list:\"}</h3>\n                {\n                  items.map(el => (\n                  <div className={styles.item} key={el.appId || el.name}>\n                    {el.name && <div>{el.name}</div>}\n                    {isPack ?\n                      <div>{formatPlaytime(el.playtimeForever)}</div>\n                      :\n                      <div>{el.price}</div>\n                    }\n                  </div>\n                )\n                )\n                }\n              </>\n            }\n\n            {!isPack &&\n              <div className={styles.addDlcWrapper}>\n                <h3>Add DLC</h3>\n\n                <Form\n                  onSubmit={(...props) => this.props.onAddDlcFormSubmit(data.appId, ...props)}\n                  render={({ handleSubmit, reset }) => (\n                    // TODO reset doesn't work\n                    <form onSubmit={(...rest) => handleSubmit(...rest).then(reset)}>\n                      <Field name=\"dlcName\" component=\"input\" type=\"text\" placeholder=\"DLC name\"/>\n                      <Field name=\"dlcPrice\" component=\"input\" type=\"number\" placeholder=\"DLC price\"/>\n                      <button type=\"submit\">Сохранить</button>\n                    </form>\n                  )}\n                />\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Game\n","import React from 'react'\nimport {formatPlaytime} from \"../helpers\";\nimport Game from \"./Game/Game\";\n\nexport const Stats = ({ games }) => {\n  return (\n    <>\n      <div className=\"twoWeeks\">\n        <h3>Two weeks leaders:</h3>\n        {\n          games\n            .filter(g => g.playtimeTwoWeeks)\n            .sort((g1, g2) => g2.playtimeTwoWeeks - g1.playtimeTwoWeeks)\n            .map(g => {\n              const _g = {...g};\n              _g.playtimeForever = _g.playtimeTwoWeeks\n              return _g\n            })\n            .map((g, i) => <Game data={g} index={i}>{g.name} {formatPlaytime(g.playtimeTwoWeeks)}</Game>)\n        }\n      </div>\n\n    </>\n  )\n};\n","import React from 'react'\nimport { Classes, Drawer, Position, Radio, RadioGroup } from \"@blueprintjs/core\";\nimport { Field, Form } from \"react-final-form\";\n\nconst Settings = ({ isOpen, onClose, serverStatus, onSortChange, sortedBy, sortOrder, onSortOrderChange, addPack }) => {\n  return (\n    <Drawer\n      isOpen={isOpen}\n      onClose={onClose}\n      autoFocus={true}\n      canEscapeKeyClose={true}\n      canOutsideClickClose={true}\n      enforceFocus={true}\n      hasBackdrop={true}\n      position={Position.RIGHT}\n      usePortal={true}\n      size={Drawer.SIZE_SMALL}\n    >\n      <div className={Classes.DRAWER_BODY}>\n        <div className={Classes.DIALOG_BODY}>\n          <div className={`loadingState ${serverStatus}`}/>\n\n          <RadioGroup\n            label=\"Sort by:\"\n            onChange={onSortChange}\n            selectedValue={sortedBy}\n          >\n            <Radio label=\"Price\" value=\"totalPrice\"/>\n            <Radio label=\"Hours\" value=\"playtimeForever\"/>\n            <Radio label=\"Price per hour\" value=\"pricePerHour\"/>\n          </RadioGroup>\n\n          <RadioGroup\n            label=\"Order:\"\n            onChange={onSortOrderChange}\n            selectedValue={sortOrder}\n          >\n            <Radio label=\"Asc\" value=\"asc\"/>\n            <Radio label=\"Desc\" value=\"desc\"/>\n          </RadioGroup>\n          <Form\n            onSubmit={addPack}\n            render={({ handleSubmit }) => (\n              <form onSubmit={handleSubmit}>\n                <Field name=\"packName\" component=\"input\" type=\"text\" placeholder=\"Package name\"/>\n                <Field name=\"packPrice\" component=\"input\" type=\"number\" placeholder=\"Package price\"/>\n                <button type=\"submit\">Сохранить</button>\n              </form>\n            )}\n          />\n        </div>\n      </div>\n    </Drawer>\n  )\n};\n\nexport default Settings\n","import axios from \"axios\";\n\nexport const gamesActionsTypes = {\n  fetchGamesSuccess: 'FETCH_GAMES_SUCCESS',\n  gameUpdate: 'gameUpdate',\n};\n\nconst fetchGamesSuccess = (games) => ({\n  type: gamesActionsTypes.fetchGamesSuccess,\n  games\n});\n\nexport const fetchGames = () => (\n  (dispatch) => (\n    axios\n      .get(`http://steamify-api.61hub.com/v1/games`)\n      .then(response => dispatch(fetchGamesSuccess(response.data)))\n  )\n);\n\nexport const gameUpdate = (game) => ({\n  type: gamesActionsTypes.gameUpdate,\n  game\n});\n\n","import axios from \"axios\";\n\nexport const packsActionsTypes = {\n  fetchPacksSuccess: 'FETCH_PACKS_SUCCESS',\n};\n\nconst fetchPacksSuccess = (packs) => ({\n  type: packsActionsTypes.fetchPacksSuccess,\n  packs\n});\n\nexport const fetchPacks = () => (\n  (dispatch) => (\n    axios\n      .get(`http://steamify-api.61hub.com/v1/packs`)\n      .then(response => dispatch(fetchPacksSuccess(response.data)))\n  )\n);\n","import { createSelector } from 'reselect'\nimport { countPriceHour, getTotalPrice } from \"../../helpers\";\n\nconst getPacks = state => state.packs\nconst getGames = state => state.games\n\nexport const getComposedPacks = createSelector(\n  [getPacks, getGames],\n  (packs, games) => {\n\n    return packs.map(packData => {\n      const pack = {...packData}\n\n      pack.games = [];\n      pack.type = 'pack';\n      pack.items.forEach(id => {\n        const foundGame = games.find(el => el.appId === parseInt(id));\n        if (foundGame) {\n          pack.games.push(foundGame);\n        }\n      });\n\n      pack.playtimeForever = 0;\n      if (pack.games && pack.games.length) {\n        pack.games.forEach(g => pack.playtimeForever += g.playtimeForever);\n        pack.logo = pack.games[Math.floor(Math.random() * (pack.games.length - 1))].logo;\n        pack.pricePerHour = countPriceHour(pack);\n        console.log(pack, pack.pricePerHour)\n      }\n      pack.totalPrice = pack.price\n      return pack\n    });\n  }\n);\n\nexport const getComposedGames = createSelector(\n  [getGames],\n  (games) => {\n    return games.map(gameData => {\n      const game = {...gameData}\n      if (isNaN(parseInt(game.price))) {\n        game.price = 0\n      } else {\n        game.price = parseInt(game.price)\n      }\n      game.pricePerHour = countPriceHour(game);\n      game.totalPrice = getTotalPrice(game);\n      return game\n    });\n  }\n)\n\nexport const getTotalItems = createSelector(\n  [getComposedGames, getComposedPacks],\n  (games, packs) => [...games, ...packs]\n)\n\nexport const countStatuses = createSelector(\n  [getComposedGames],\n  (games) => {\n    const statuses = {}\n\n    games.forEach(game => {\n      if (game.status) {\n        if (!statuses[game.status]) {\n          statuses[game.status] = 1\n        } else {\n          statuses[game.status] = statuses[game.status] + 1\n        }\n      }\n\n    })\n\n    return statuses\n  }\n)\n\nexport const countTotalPrice = createSelector(\n  [getComposedGames, getComposedPacks],\n  (games, packs) => (\n    [...games, ...packs].reduce((sum, item) => sum + item.totalPrice, 0)\n  )\n)\nexport const countTotalTime = createSelector(\n  [getComposedGames, getComposedPacks],\n  (games, packs) => (\n    Math.round([...games, ...packs].reduce((sum, item) => sum + item.playtimeForever, 0) / 60)\n  )\n)\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport Game from \"./components/Game/Game\"\nimport * as _ from \"lodash\"\nimport { connect } from \"react-redux\"\nimport { Drawer, Position, Classes, Button } from '@blueprintjs/core';\nimport \"../node_modules/normalize.css/normalize.css\";\nimport \"../node_modules/@blueprintjs/icons/lib/css/blueprint-icons.css\";\nimport \"../node_modules/@blueprintjs/core/lib/css/blueprint.css\";\nimport './App.css';\nimport { Stats } from \"./components/Stats\";\nimport Settings from \"./components/Settings\";\nimport { fetchGames, gameUpdate } from \"./redux/actions/games\";\nimport { fetchPacks } from \"./redux/actions/packs\";\nimport PropTypes from 'proptypes'\nimport {\n  countStatuses,\n  countTotalPrice,\n  countTotalTime,\n  getComposedGames,\n  getComposedPacks,\n  getTotalItems\n} from \"./redux/selectors\";\nimport { Emoji } from \"./components/Emoji/Emoji\";\n\nclass App extends Component {\n  state = {\n    serverStatus: \"\",\n    sortedBy: \"playtimeForever\",\n    sortOrder: \"desc\",\n    isSettingsOpen: false,\n    isStatsOpen: false\n  };\n\n  componentWillMount() {\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    this.props.fetchGames();\n    this.props.fetchPacks();\n  };\n\n  updateItem = (appId, updates) => {\n    this.setState({ serverStatus: \"loading\" });\n\n    axios.patch(`http://steamify-api.61hub.com/v1/games/${appId}`, updates)\n      .then(response => {\n        this.props.gameUpdate({appId, ...updates});\n        this.setState({ serverStatus: \"success\" })\n      })\n      .catch(response => this.setState({ serverStatus: \"error\" }));\n  };\n\n  addDlc = (appid, {dlcName, dlcPrice}) => {\n    const { games } = this.props;\n    const gameToUpdate = games.find(element => element.appId === appid);\n\n    this.setState({ serverStatus: \"loading\" });\n    return axios.patch(`http://steamify-api.61hub.com/v1/games/${appid}`, {\n      dlc: [...gameToUpdate.dlc, {\n        name: dlcName,\n        price: dlcPrice\n      }]\n    })\n      .then(response => {\n        this.props.gameUpdate(response.data);\n        this.setState({ serverStatus: \"success\" });\n      })\n      .catch(response => this.setState({ serverStatus: \"error\" }));\n  };\n\n  addPack = ({ packName, packPrice }) => {\n    axios.post(`http://steamify-api.61hub.com/v1/packs`, { name: packName, price: packPrice })\n  };\n\n  render() {\n    const { items, statuses, totalPrice, totalPlaytime } = this.props;\n\n    return (\n      <div className=\"container\">\n        <div className=\"controls\">\n          <Button minimal onClick={() => this.setState({ isSettingsOpen: true })}\n                  icon=\"settings\"/>\n          <Button minimal onClick={() => this.setState({ isStatsOpen: true })}\n                  icon=\"grouped-bar-chart\"/>\n          <Button minimal onClick={this.fetchData} icon=\"refresh\"/>\n          <div className=\"stats\">\n            <p>Total price: {totalPrice}P</p>\n            <p>Total playtime: {totalPlaytime}hrs</p>\n          </div>\n\n          <div className=\"statuses\">\n            <p>\n              <Emoji type=\"📖\" />\n              <span>{statuses.story}</span>\n            </p>\n            <p>\n              <Emoji type=\"✅\" />\n              <span>{statuses.completed}</span>\n            </p>\n            <p>\n              <Emoji type=\"∞\" />\n              <span>{statuses.endless}</span>\n            </p>\n            <p>\n              <Emoji type=\"☠️\" />\n              <span>{statuses.abandoned}</span>\n            </p>\n            <p>\n              <Emoji type=\"🕹\" />\n              <span>{statuses.playing}</span>\n            </p>\n          </div>\n        </div>\n\n        <Settings\n          isOpen={this.state.isSettingsOpen}\n          onClose={() => this.setState({ isSettingsOpen: false })}\n          serverStatus={this.state.serverStatus}\n          onSortChange={e => this.setState({ sortedBy: e.currentTarget.value })}\n          sortedBy={this.state.sortedBy}\n          sortOrder={this.state.sortOrder}\n          onSortOrderChange={e => this.setState({ sortOrder: e.currentTarget.value })}\n          addPack={this.addPack}\n        />\n\n        <Drawer\n          isOpen={this.state.isStatsOpen}\n          onClose={() => this.setState({ isStatsOpen: false })}\n          autoFocus={true}\n          canEscapeKeyClose={true}\n          canOutsideClickClose={true}\n          enforceFocus={true}\n          hasBackdrop={true}\n          position={Position.RIGHT}\n          usePortal={true}\n          size={Drawer.SIZE_LARGE}\n        >\n          <div className={Classes.DRAWER_BODY}>\n            <div className={Classes.DIALOG_BODY}>\n              <Stats games={[...this.props.games]} packs={[...this.props.packs]}/>\n            </div>\n          </div>\n        </Drawer>\n\n        <div className=\"mainWrapper\">\n          {_.orderBy(items, [this.state.sortedBy, \"playtimeForever\"], [this.state.sortOrder])\n            .filter(el => el.status !== 'hidden')\n            .map((el, index) =>\n              <Game\n                key={el.appId || el.packId}\n                data={el}\n                index={index}\n                onChange={this.updateItem}\n                onAddDlcFormSubmit={this.addDlc}\n                packages={this.props.packs}\n                packId={this.state.packId}\n                // TODO\n                onAddedToPack={this.fetchData}\n              />\n            )}\n        </div>\n      </div>\n\n    );\n  }\n}\n\nApp.propTypes = {\n  games: PropTypes.arrayOf(PropTypes.object),\n  packs: PropTypes.arrayOf(PropTypes.object),\n  fetchGames: PropTypes.func.isRequired,\n  fetchPacks: PropTypes.func.isRequired,\n  gameUpdate: PropTypes.func.isRequired,\n};\n\nApp.defaultProps = {\n  games: [],\n  packs: [],\n};\n\nexport default connect(\n  (state) => ({\n    games: getComposedGames(state),\n    packs: getComposedPacks(state),\n    items: getTotalItems(state),\n    statuses: countStatuses(state),\n    totalPrice: countTotalPrice(state),\n    totalPlaytime: countTotalTime(state)\n  }),\n  { fetchGames, fetchPacks, gameUpdate }\n)(App);\n","import { gamesReducer } from \"./games\";\nimport { packsReducer } from \"./packs\";\nimport { combineReducers } from \"redux\";\n\nexport default combineReducers({\n  games: gamesReducer,\n  packs: packsReducer\n})\n","import { gamesActionsTypes } from \"../actions/games\";\n\nexport const gamesReducer = (state = [], action) => {\n  switch (action.type) {\n    case gamesActionsTypes.fetchGamesSuccess:\n      return action.games;\n\n    case gamesActionsTypes.gameUpdate:\n      return state.map(item => {\n        if (item.appId === action.game.appId) {\n          return {...item, ...action.game}\n        }\n        return item;\n      });\n\n    default:\n      return state\n  }\n};\n","import { packsActionsTypes } from \"../actions/packs\";\n\nexport const packsReducer = (state = [], action) => {\n  switch (action.type) {\n    case packsActionsTypes.fetchPacksSuccess:\n      return action.packs;\n\n    default:\n      return state\n  }\n};\n","import {createStore, compose, applyMiddleware} from \"redux\"\nimport thunk from \"redux-thunk\";\nimport reducers from \"./reducers\";\n\nconst middlewares = window.__REDUX_DEVTOOLS_EXTENSION__ ? compose(\n  applyMiddleware(thunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__()\n) : applyMiddleware(thunk);\n\nconst store = createStore(\n  reducers,\n  middlewares\n);\n\nexport default store\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\"\nimport store from \"./redux/store\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameInformation\":\"GameDetails_gameInformation__1y36Q\",\"pricePerHour\":\"GameDetails_pricePerHour__3zZ8S\",\"gameName\":\"GameDetails_gameName__1d1pq\",\"gameMinorInfo\":\"GameDetails_gameMinorInfo__Uu8Kq\",\"gameHourPrice\":\"GameDetails_gameHourPrice__1d1m7\",\"darkGreen\":\"GameDetails_darkGreen__YMiVp\",\"green\":\"GameDetails_green__2e0DP\",\"orange\":\"GameDetails_orange__39u1Q\",\"red\":\"GameDetails_red__3WLRP\",\"yellow\":\"GameDetails_yellow__2fyEK\",\"status\":\"GameDetails_status__1xE9k\",\"endless\":\"GameDetails_endless__HlE1L\",\"gameDuration\":\"GameDetails_gameDuration__VZ_WH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameWrapper\":\"Game_gameWrapper__2AG3X\",\"options\":\"Game_options__oRGaS\",\"items\":\"Game_items__FCx4C\",\"item\":\"Game_item__3-19d\",\"details\":\"Game_details__3t6zl\",\"expanded\":\"Game_expanded__3K6Ps\",\"addDlcWrapper\":\"Game_addDlcWrapper__jxUtc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoWrapper\":\"GameLogo_logoWrapper__2duNv\"};"],"sourceRoot":""}